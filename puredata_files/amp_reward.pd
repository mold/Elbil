#N canvas 655 74 964 904 10;
#X obj 154 -14 r amp;
#X obj 154 473 dac~;
#X floatatom 154 132 5 0 0 0 - - -, f 5;
#N canvas 127 90 897 793 amping_up 1;
#X obj 43 -2 inlet;
#X obj 108 732 outlet~;
#X obj 216 734 outlet~;
#X floatatom 152 370 5 0 0 0 - - -, f 5;
#X obj 152 345 +;
#X msg 185 196 1, f 1;
#X obj 109 540 sub/seq 55 64 67;
#X obj 44 540 loadbang;
#X obj 269 509 line;
#X floatatom 269 540 5 0 0 0 - - -, f 5;
#X msg 303 400 0;
#X obj 269 400 * 1;
#X obj 303 373 r play_sound;
#X obj 269 438 +;
#X msg 321 473 0;
#X obj 15 156 s play_sound;
#X msg 269 460 1 \$1;
#X obj 321 448 r reset_sound;
#X obj 364 116 r play_sound;
#X obj 364 140 bng 15 250 50 0 empty empty empty 17 7 0 10 -260145
-1 -1;
#X msg 364 250 0;
#X obj 109 567 *~;
#X obj 218 596 *~;
#X obj 364 272 s reset_sound;
#X text 314 511 <- use number of "positive amp steps taken" for the
duration (volume and pitch transition) of the reward sound effect;
#X obj 223 510 * 20;
#X obj 109 641 sub/delay licketysplit 0.212 139;
#X obj 217 668 sub/delay gooddaymygooddeladylay 0.212 139;
#X floatatom 404 228 5 0 0 0 - - -, f 5;
#X obj 338 593 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 338 545 r reset_sound;
#X msg 338 567 0;
#X obj 207 151 s activate;
#X obj 453 546 r activate;
#X msg 453 568 1;
#X obj 269 576 *~ 1;
#X obj 207 122 > 2;
#X obj 364 227 del;
#X obj 364 203 sub/only_one_bang_please;
#X obj 529 181 bng 15 250 50 0 empty empty empty 17 7 0 10 -4034 -204786
-1;
#X obj 529 159 r reset_sound;
#X msg 107 340 1000;
#X floatatom 57 487 5 0 0 0 - - -, f 5;
#X obj 56 465 sub/clipscale 0 1 100 40;
#X obj 120 105 moses;
#X obj 87 16 inlet;
#X text 86 -2 Left inlet: amp;
#X text 131 14 Right inlet: Threshold ("amp > this" counts);
#X text 188 342 <- Counts up as long as input is above threshold;
#X text 285 89 This activates when amp goes from >0 to <0;
#X text 437 138 <-to be safe;
#X text 462 273 <- deactivates sound after its been played;
#X obj 396 138 + 0;
#X connect 0 0 44 0;
#X connect 3 0 4 1;
#X connect 3 0 11 0;
#X connect 3 0 52 0;
#X connect 4 0 3 0;
#X connect 6 0 21 0;
#X connect 6 1 22 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 8 0 25 0;
#X connect 8 0 43 0;
#X connect 9 0 35 0;
#X connect 10 0 13 0;
#X connect 11 0 13 1;
#X connect 12 0 10 0;
#X connect 13 0 16 0;
#X connect 14 0 8 0;
#X connect 16 0 8 0;
#X connect 17 0 14 0;
#X connect 18 0 19 0;
#X connect 19 0 38 0;
#X connect 20 0 3 0;
#X connect 20 0 23 0;
#X connect 21 0 26 0;
#X connect 22 0 27 0;
#X connect 25 0 6 2;
#X connect 26 0 1 0;
#X connect 27 0 2 0;
#X connect 29 0 35 1;
#X connect 30 0 31 0;
#X connect 31 0 29 0;
#X connect 31 0 6 2;
#X connect 33 0 34 0;
#X connect 34 0 29 0;
#X connect 35 0 22 1;
#X connect 35 0 21 1;
#X connect 36 0 32 0;
#X connect 37 0 20 0;
#X connect 38 0 37 0;
#X connect 39 0 38 1;
#X connect 40 0 39 0;
#X connect 41 0 3 0;
#X connect 43 0 6 1;
#X connect 43 0 42 0;
#X connect 44 0 15 0;
#X connect 44 1 5 0;
#X connect 44 1 36 0;
#X connect 44 1 4 0;
#X connect 45 0 44 1;
#X connect 52 0 28 0;
#X connect 52 0 37 1;
#X restore 154 191 pd amping_up;
#X msg 235 28 0;
#X obj 346 168 r amp;
#X obj 346 190 moses;
#X text 268 27 <- Decide here the threshold for "good amp" \, i.e.
amp values that should be rewarded with pleasant sound effects;
#X obj 378 222 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 378 247 sub/only_one_bang_please;
#X obj 378 291 line;
#X obj 346 222 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 291 176 5 0 0 0 - - -, f 5;
#X obj 385 474 dac~;
#X msg 378 269 1 15000;
#X obj 379 400 *~;
#X obj 414 400 *~;
#X obj 320 369 line;
#X msg 320 291 0 2000;
#X msg 336 316 0.8;
#X msg 320 269 0 700;
#X text -108 -99 Indicates how much the battery has been charged after
a period of positive amp. Can also make a sound when amp is positive.
;
#X obj 378 317 sub/amp_indication_synth;
#X text 400 176 Start playing positive sounds when amp is positive
\, stop when it's negative;
#X text 452 283 <- Fades sound in/out;
#X text -76 176 After a period of positive amp \,;
#X text -55 190 play the "victory melody" ->;
#X obj -58 331 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj -58 351 metro 100;
#X obj -58 399 tabwrite~ tabl;
#X obj -57 375 tabwrite~ tabr;
#N canvas 0 50 450 250 (subpatch) 0;
#X array tabl 1000 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 999 -1 200 140 1;
#X restore 305 598 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array tabr 1000 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 999 -1 200 140 1;
#X restore 515 599 graph;
#X obj 153 239 sub/dirty_limiter;
#X obj 180 216 sub/dirty_limiter;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 12 0;
#X connect 3 0 33 0;
#X connect 3 1 34 0;
#X connect 4 0 3 1;
#X connect 4 0 6 1;
#X connect 5 0 6 0;
#X connect 6 0 11 0;
#X connect 6 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 9 0 19 0;
#X connect 10 0 22 0;
#X connect 11 0 20 0;
#X connect 11 0 9 1;
#X connect 12 0 6 0;
#X connect 14 0 10 0;
#X connect 15 0 13 0;
#X connect 15 0 29 0;
#X connect 16 0 13 1;
#X connect 16 0 30 0;
#X connect 17 0 15 1;
#X connect 17 0 16 1;
#X connect 18 0 17 0;
#X connect 19 0 17 0;
#X connect 20 0 10 0;
#X connect 20 0 18 0;
#X connect 22 0 15 0;
#X connect 22 1 16 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 28 0 30 0;
#X connect 33 0 1 0;
#X connect 33 0 29 0;
#X connect 34 0 1 1;
#X connect 34 0 30 0;
